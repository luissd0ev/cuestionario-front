<div class="report-container">
  <h3>Reporte de Preguntas</h3>
  <br />
  <table class="report-table">
    <thead>
      <tr>
        <th>Pilar</th>
        <th>Pregunta</th>
        <th>Respuesta Seleccionada</th>
        <!-- <th>Valor de Respuesta</th> -->
        <th>Valor</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pregunta of preguntasVisibles">
        <td>{{ pregunta.prePilId }}</td>
        <td>{{ pregunta.prePregunta }}</td>
        <td>
          <span *ngFor="let contestacion of pregunta.contestaciones">
            <ng-container *ngIf="contestacion.corValor">
              <span>{{ contestacion.corValor }}</span>
            </ng-container>
          </span>
        </td>

        <td>
          <span *ngIf="pregunta.contestaciones.length > 0">
            {{ calcularValorPonderado(pregunta) }}
          </span>
        </td>
      </tr>
    </tbody>
  </table>

  <br />
  <div class="nav-buttons">
    <button class="nav-button" (click)="volver()">Volver</button>
  </div>
  <br />

  <div class="valores-ponderados-container">
    <h4>Valores Ponderados por Pilar</h4>
    <div *ngFor="let pilar of valoresPonderadosPorPilar" class="pilar-item">
      <p>
        Pilar {{ pilar.prePilId }}:
        <span class="valor">{{ pilar.valorPonderado }}</span>
      </p>
    </div>
  </div>
  <h3>Pilar final: {{pilarFinal}}</h3>
</div>
